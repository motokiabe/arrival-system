function doGet(e) {
  var sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName("シート1");
  var range = sheet.getRange("A1");
  var status = e.parameter.status;

  // iPhoneから指示が届いた場合
  if (status) {
    range.setValue(status);
    return ContentService.createTextOutput("OK: " + status);
  }

  // iPadが「指示ある？」と見に来た場合
  var value = range.getValue().toString();
  
  // 指示をiPadに伝えたら、セルを「0」に戻す
  if (value !== "0" && value !== "") {
    range.setValue("0"); 
  }

  return ContentService.createTextOutput(value);
}
